# Lore System Quick Reference

## Content Types (4 Total)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DISTRICTS                                   â”‚
â”‚  Geographic/cultural regions                                     â”‚
â”‚  - Stadium South, The Proving Grounds, Vol Valley, etc.         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ contains
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CHARACTERS                                   â”‚
â”‚  Individuals in Fanhattan                                        â”‚
â”‚  - Shep, Brown Bag Billy, Vito, etc.                           â”‚
â”‚  - References: district, artifacts[]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ appear in
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STORIES                                     â”‚
â”‚  Narratives (standalone or episodic)                            â”‚
â”‚  - The Night Neutrality Broke, etc.                            â”‚
â”‚  - References: districts[], characters[], artifacts[]            â”‚
â”‚  - Types: standalone | episodic                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ involves
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ARTIFACTS                                    â”‚
â”‚  All world elements                                              â”‚
â”‚  - Beliefs, Systems, Factions, Locations, Conflicts, Threads    â”‚
â”‚  - artifactType: belief | system | faction | location |         â”‚
â”‚                  conflict | thread | item                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Story Types

### Standalone
```yaml
storyType: "standalone"
```
Complete story in one file.

### Episodic
```yaml
storyType: "episodic"
episodeNumber: 1
seriesSlug: "series-name"
```
Part of a series. Episodes auto-sort by number.

---

## Artifact Types

| Type | Description | Examples |
|------|-------------|----------|
| `belief` | Ideological principles | "Survival Over Glory" |
| `system` | World mechanics | "District Trials" |
| `faction` | Organized groups | "The Syndicate" |
| `location` | Physical places | "Shep's Bar" |
| `conflict` | Tensions/struggles | "Neutrality Collapse" |
| `thread` | Narrative arcs | "Syndicate Offensive" |
| `item` | Physical objects | "Golden Trophy" |

---

## Frontmatter Cheat Sheet

### District
```yaml
name: "District Name"
slug: "district-slug"
coreBelief: "Core belief"
rivalDistricts: ["slug1", "slug2"]
canonTier: "tier-1"
```

### Character
```yaml
name: "Character Name"
slug: "character-slug"
district: "district-slug"
role: "Their role"
reputation: "Public perception"
privateTruth: "Hidden truth"
artifacts: ["artifact1", "artifact2"]
canonTier: "tier-1"
```

### Story (Standalone)
```yaml
title: "Story Title"
slug: "story-slug"
storyType: "standalone"
districts: ["district1"]
characters: ["char1"]
artifacts: ["artifact1"]
summary: "Summary"
canonTier: "tier-1"
```

### Story (Episodic)
```yaml
title: "Story Title - Episode 1"
slug: "story-slug-ep1"
storyType: "episodic"
episodeNumber: 1
seriesSlug: "series-slug"
districts: ["district1"]
characters: ["char1"]
artifacts: ["artifact1"]
summary: "Summary"
canonTier: "tier-1"
```

### Artifact
```yaml
name: "Artifact Name"
slug: "artifact-slug"
artifactType: "belief"  # or system, faction, etc.
description: "Description"
canonTier: "tier-1"

# Optional:
district: "district-slug"  # for locations
status: "active"           # for threads
related: ["slug1"]         # related content
```

---

## Common Queries

```typescript
// Get all content of a type
getAllDistricts()
getAllCharacters()
getAllStories()
getAllArtifacts()

// Filter stories by type
getStandaloneStories()
getEpisodicStories()
getStoriesBySeries('series-slug')

// Filter artifacts by type
getArtifactsByType('belief')
getAllBeliefs()      // shorthand
getAllFactions()     // shorthand
getAllLocations()    // shorthand

// Get related content
getCharactersByDistrict('stadium-south')
getStoriesByCharacter('shep')
getArtifactsByCharacter('shep')
getStoriesByArtifact('survival-over-glory')
getCharactersByArtifact('the-resistance')

// Get filtered artifacts
getArtifactsByCharacterAndType('shep', 'belief')
getArtifactsByStoryAndType('story-slug', 'faction')
getArtifactsByDistrictAndType('stadium-south', 'location')
```

---

## Migration Commands

```bash
# Run migration (creates backup first)
npm run migrate:lore

# Validate after migration
npm run validate:lore

# Build (runs validation automatically)
npm run build

# Dev mode (validation warnings only)
npm run dev
```

---

## Folder Structure

```
content/
â”œâ”€â”€ districts/
â”‚   â”œâ”€â”€ stadium-south.md
â”‚   â””â”€â”€ the-proving-grounds.md
â”œâ”€â”€ characters/
â”‚   â”œâ”€â”€ shep.md
â”‚   â””â”€â”€ brown-bag-billy.md
â”œâ”€â”€ stories/
â”‚   â””â”€â”€ the-night-neutrality-broke.md
â”œâ”€â”€ artifacts/               # New unified folder
â”‚   â”œâ”€â”€ survival-over-glory.md
â”‚   â”œâ”€â”€ the-syndicate.md
â”‚   â””â”€â”€ sheps-bar.md
â”‚
# Legacy folders (still work, auto-detected as artifacts)
â”œâ”€â”€ beliefs/                 # â†’ artifactType: "belief"
â”œâ”€â”€ factions/                # â†’ artifactType: "faction"
â”œâ”€â”€ systems/                 # â†’ artifactType: "system"
â”œâ”€â”€ conflicts/               # â†’ artifactType: "conflict"
â”œâ”€â”€ threads/                 # â†’ artifactType: "thread"
â””â”€â”€ world/                   # â†’ artifactType: "location"
```

---

## Before vs After

### Character Migration
```yaml
# BEFORE
beliefs: ["survival-over-glory"]
factions: ["the-resistance"]

# AFTER
artifacts: ["survival-over-glory", "the-resistance"]
```

### Story Migration
```yaml
# BEFORE
beliefs: ["belief1"]
conflicts: ["conflict1"]
factions: ["faction1"]
systems: ["system1"]
threads: ["thread1"]

# AFTER
storyType: "standalone"
artifacts: ["belief1", "conflict1", "faction1", "system1", "thread1"]
```

### Artifact Migration
```yaml
# BEFORE (in content/beliefs/survival-over-glory.md)
name: "Survival Over Glory"
slug: "survival-over-glory"
description: "..."
canonTier: "tier-1"

# AFTER
name: "Survival Over Glory"
slug: "survival-over-glory"
artifactType: "belief"      # â† Added
description: "..."
canonTier: "tier-1"
```

---

## Validation Errors

Common errors after migration:

**Missing artifactType:**
```
Missing required field: artifactType
```
â†’ Add `artifactType: "belief"` (or appropriate type)

**Missing storyType:**
```
Missing required field: storyType
```
â†’ Add `storyType: "standalone"` or `storyType: "episodic"`

**Episodic without episode number:**
```
Episodic stories require episodeNumber
```
â†’ Add `episodeNumber: 1` and `seriesSlug: "series-name"`

**Invalid reference:**
```
Reference "old-belief-slug" does not exist
```
â†’ Check that the slug exists in content

---

## Tips

âœ… **DO:**
- Use descriptive artifact slugs
- Group related artifacts with `related` field
- Use episodic for story series
- Use locations for physical places
- Keep legacy folders during transition

âŒ **DON'T:**
- Mix old and new frontmatter formats
- Forget to add `storyType` to stories
- Skip validation after migration
- Delete backups before testing

---

## Quick Decision Tree

**Adding new content?**

1. Is it a place? â†’ **District** or **Artifact (location)**
2. Is it a person? â†’ **Character**
3. Is it a narrative? â†’ **Story**
4. Is it anything else? â†’ **Artifact**

**What artifact type?**

- Belief/ideology â†’ `belief`
- Rule/mechanic â†’ `system`
- Group/organization â†’ `faction`
- Physical place â†’ `location`
- Tension/problem â†’ `conflict`
- Ongoing arc â†’ `thread`
- Physical object â†’ `item`

---

## Need Help?

ğŸ“– **Full Migration Guide:** `LORE_REDESIGN_MIGRATION.md`
ğŸ“– **Complete Documentation:** `LORE_ENGINE.md`
ğŸ“– **Implementation Summary:** `LORE_REDESIGN_COMPLETE.md`

ğŸ”§ **Validation:** `npm run validate:lore`
ğŸ”§ **Migration:** `npm run migrate:lore`
